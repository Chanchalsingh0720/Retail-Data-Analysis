# SQL Case Study – Retail Store Customer Behavior Analysis

## Business Context

A retail store aims to analyze customer behavior using their point of sale (POS) data. This case study involves querying a database to gain insights into customer transactions, product categories, and sales performance.

## Data Availability

The dataset includes the following tables:

- **Customer**: Contains customer demographics.
- **Transactions**: Contains customer transaction details.
- **Product Category**: Contains product category and sub-category information.

### Table Relationships

Refer to the provided diagram for table relationships.

## Notes

- Only one SQL query should be written for each question.
- Queries should be designed for read-only access.
- To insert more than 1000 records, use multiple `INSERT` statements.

## Data Preparation and Understanding

1. **Total Number of Rows**  
   Query the total number of rows in each of the three tables.

2. **Total Number of Transactions with Return**  
   Find the total number of transactions that have a return.

3. **Date Format Conversion**  
   Convert the date variables into valid date formats.

4. **Time Range of Transaction Data**  
   Determine the time range of the transaction data available for analysis, showing the output in days, months, and years.

5. **Product Category for Sub-Category “DIY”**  
   Identify which product category the sub-category “DIY” belongs to.

## Data Analysis

1. **Most Frequently Used Channel**  
   Find the most frequently used channel for transactions.

2. **Count of Male and Female Customers**  
   Retrieve the count of male and female customers in the database.

3. **City with Maximum Customers**  
   Identify the city with the maximum number of customers and the count.

4. **Sub-Categories under Books**  
   Determine how many sub-categories exist under the Books category.

5. **Maximum Quantity Ordered**  
   Find the maximum quantity of products ever ordered.

6. **Net Revenue from Electronics and Books**  
   Calculate the net total revenue generated from the Electronics and Books categories.

7. **Customers with More Than 10 Transactions**  
   Count the number of customers with more than 10 transactions, excluding returns.

8. **Combined Revenue from Electronics and Clothing**  
   Compute the combined revenue from the “Electronics” and “Clothing” categories from “Flagship stores”.

9. **Total Revenue from Male Customers in Electronics**  
   Show the total revenue generated from male customers in the Electronics category, displaying revenue by product sub-category.

10. **Percentage of Sales and Returns by Product Sub-Category**  
    Calculate the percentage of sales and returns by product sub-category, displaying only the top 5 sub-categories in terms of sales.

11. **Revenue from Customers Aged 25 to 35**  
    Determine the net total revenue generated by customers aged between 25 to 35 years in the last 30 days of transactions from the maximum transaction date.

12. **Product Category with Maximum Returns in Last 3 Months**  
    Identify the product category with the highest value of returns in the last 3 months of transactions.

13. **Store-Type Sales Comparison**  
    Compare which store-type sells the maximum products by the value of sales amount and by quantity sold.

14. **Categories with Above-Average Revenue**  
    List the categories where the average revenue is above the overall average.

15. **Average and Total Revenue by Sub-Category**  
    Find the average and total revenue by each sub-category for the top 5 categories in terms of quantity sold.


## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Contact

For questions or further information, please contact [Chanchal Singh Parihar](mailto:chanchalsingh0720@gmail.com.
